#summary Release Notes - Tunnelblick
#sidebar xSb

=Release Notes for Tunnelblick 3.0=

[wRlsNotes Release Notes for Tunnelblick 3.1]

--------------------

==Security Vulnerability==
A bug causing an exploitable security problem exists in most Tunnelblick versions before 3.1.1. It allows an unprivileged user to gain root privileges on any Mac OS X system with a vulnerable version of Tunnelblick installed. All users of Tunnelblick are advised to update to the latest version. For more information including instructions for updating, see the [vulnerability2011-01-12-FAQ 2011-01-12 Vulnerability FAQ]. Thanks to [http://www.subreption.com Subreption, LLC] for pointing out the security implications of this bug.

Versions which are NOT vulnerable:
 3.1.1 and later<br>
 3.0b10 and earlier<br>
 3.0.1 (created for those users who cannot upgrade to 3.1.1)

--------------------

==3.0.1 (2011-01-12)==

 * Fixes bug that causes a serious [vulnerability2011-01-12-FAQ security vulnerability].
 * Fixes bugs relating to forced-preferences.plist wildcards used in Deployed versions of Tunnelblick.
 * Added full Norwegian localization and added missing German localization of one string.
 
--------------------

==3.0 (2010-03-03)==
  * Fixes incorrect display of 'Automatically Check for Updates' preference on first run after some updates.
  * Out of beta!

--------------------

==3.0b28 (2010-02-24)==

  * Wildcards for forced preferences (see [DeployingTunnelblick Deploying Tunnelblick]).
  * Displays configuration name in title of "Details…" window.
  * Inserts full command line used for starting OpenVPN into the "Details…" window.
  * Full German localization. Many thanks to Markus Schneider.

--------------------

==3.0b26 (2010-02-09)==
  * Now uses OpenVPN version 2.1.1.
  * Adds Chinese localization (both simplified and traditional). Many thanks to Aming Lau.
  * Installation has been simplified: The Tunnelblick disk image gives instructions to "Double-click to begin" in several languages. Double-clicking starts a small installer. The installer detects installs/reinstalls/upgrades/downgrades and puts the current copy of Tunnelblick.app in the Trash before replacing it, then offers to launch the new version. Warns about other copies of Tunnelblick running during an install and offers to stop them. (Simply copying Tunnelblick.app to /Applications or elsewhere on the hard drive still works, too.)
  * The "Welcome to Tunnelblick" window now gives the user much more information, and offers the options of creating and editing a sample configuration file or opening the Configurations folder in Finder.
  * Uses Sparkle Updater version 1.5b6 for better security. Updates must be signed with 2048-bit DSA signatures. Updating behavior is now controlled by Tunnelblick preferences, which may be forced. Deployers note: many of these preferences should be forced for security reasons in a deployed environment.
  * Tunnelblick now explains why it is asking for an administrator username/password in authentication dialogs.
  * Tunnelblick's "Details…" window now includes detailed information about why a connection was restarted by leasewatch (when the 'Monitor connection' checkbox is checked).
  * The program's menu has been streamlined.
  * Connection timers are now displayed by default (unless the 'showConnectedDurations' preference is FALSE).
  * Fixes problem editing configuration files on Tiger and Leopard by allowing non-admin users (without an administrator username/password) to unprotect the configuration file before invoking `TextEdit`. This ability can be disabled with the 'onlyAdminsCanUnprotectConfigurationFiles' preference. On Snow Leopard (which automatically unprotects files when they are modified), warns user that an administrator username/password will be required to connect if the configuration file is modified. Note: The 'Edit Configuration' button may be still disabled with a per-configuration  preference.
  * Enhancements: Displays command line used to launch 'openvpnstart' in the "Details…" window. Detects and gives a detailed error message if a configuration file is identical to the sample provided by Tunnelblick. Creates a "Launch Tunnelblick" link in the Configurations folder. Localizes paths that are displayed to the user -- for example, in French (FR), 'Library' becomes 'Bibliothèque'. Detects, complains, and quits if not running on OS X 10.4 ("Tiger") or above. Added Quick Start Guide to disk image.
  * Bug fixes: Fixes bug that caused crashes when started automatically on login on some versions of Leopard and Snow Leopard. Fixes bug that didn't localize the title for the "Details…" window. Fixes bug that displayed 'monitoring connection' when 'Set nameserver' is not checked. Fixes bug opening wrong copy of sample configuration file in `TextEdit`. Fixes bug that tries to to create Configurations folder when not necessary. Fixes bug that tried to create configuration file in Deploy. Fixes typo in dialog for remote home folders. Fixes sporadic failure to detect multiple simultaneous connections.
  * Known Issues: See [KnownIssues Known Issues].

--------------------

==3.0b24 (2009-12-12)==
  * New 'Monitor connection' checkbox in the "Details…" window (defaults to checked). When checked, Tunnelblick monitors connection interfaces as it has since 3.0b18. When unchecked, Tunnelblick ignores connection interface changes, as version 3.0b10 did. This allows more users to use the latest version (some users couldn't because of repeated restarts caused by Tunnelblick detecting connection interface changes). Please note that OpenVPN itself restarts connections under certain circumstances. New scripts are used when 'Monitor connection' is not checked and 'Set DNS' is checked: client.nomonitor.up.osx.sh and client.nomonitor.down.osx.sh.
  * New 'Options' submenu has entries to change commonly used preferences, check for updates, and view the 'About…' window.
  * Tun/tap kernel extensions are loaded when Tunnelblick launches and unloaded when Tunnelblick quits.
  * Configuration and other files are now located in ~/Library/Application Support/Tunnelblick/Configurations to conform to OS X standards. The ~/Library/openvpn folder is moved to this new location automatically during the first launch of Tunnelblick after updating to 3.0b24, and is replaced by a symbolic link to the new location. For details see [http://groups.google.com/group/tunnelblick-discuss/t/d8f000d1e854b39d http://groups.google.com/group/tunnelblick-discuss/t/d8f000d1e854b39d].
  * Adds Català (Catalan) localization, thanks to Aleix Dorca.
  * Additional Español (Spanish) and Deutsch (German) localization, thanks to Diego Rivera and Markus Schneider, respectively.
  * Adds OS X version information to the start of the OpenVPN Log.
  * Adds configuration, 'Set nameserver', and 'Monitor connection' status to the OpenVPN Log before attempting to make a connection.
  * Adds new Deployment features:
    * Always restores the Resources/Deploy folder from a backup if it does not exist and a backup does. An entry is put in the Console Log, but no other user notification is made. (This happens after an auto-update without the Deploy folder.)
    * Monitors Resources/Deploy (if it exists) for changes to configuration files.
    * If Deploy contains only `*`.conf, `*`.oven, `*`.up.sh, `*`.down.sh, and forced-preferences.plist files, then the ~/Library/openvpn folder will be used for all other files (including other scripts).
    * If 'Set nameserver' is checked and 'Monitor connection' is checked, then if Deploy/_CONFIGNAME_.up.sh exists, it will be used instead of Resources/client.up.osx.sh, and if Deploy/_CONFIGNAME_.down.sh exists, it will be used instead of Resources/client.down.osx.sh.
    * If 'Set nameserver' is checked and 'Monitor connection' is _not_ checked, then if Deploy/_CONFIGNAME_.nomonitor.up.sh exists, it will be used instead of Resources/client.nomonitor.up.osx.sh, and if Deploy/_CONFIGNAME_.nomonitor.down.sh exists, it will be used instead of Resources/client.nomonitor.down.osx.sh.
    * If 'Set nameserver' is checked, then if the '_CONFIGNAME_-useDownRootPlugin' preference is true, then Resources/openvpn-down-root.so will be used as a plugin for OpenVPN.
    * Sets owner to root:wheel and permissions to 600 for .cer, .crt, .der, .key, .p12, .p7b, .p7c, .pem, and .pfx files in the Deploy folder.
  * Adds new per-configuration preferences:
    * 'CONFIGNAMEdisableEditConfiguration' is a boolean. If set, disables the 'Edit configuration' button. If cleared (the default), enables the button.
    * '_CONFIGNAME_-notMonitoringConnection' is a boolean. If present, its value reflects/is used for the 'Monitor connection' checkbox. Default is set.
    * '_CONFIGNAME_-useDownRootPlugin' is a boolean. If set, causes the 'openvpn-down-root.so' plugin to be loaded. If cleared (the default), the plugin is not loaded.
  * Closing a connection, putting the computer to sleep, or quitting Tunnelblick may be delayed a few seconds while Tunnelblick waits for OpenVPN processes to terminate.
  * Bug fixes: Fixes bug that sometimes caused authentication failures with usernames or passwords longer than 12 characters. Fixes bug that sometimes caused the 'Retry' button to be interpreted as 'Cancel' in the Authentication Failed dialog. Fixes bug that caused a connection attempt to fail with a 'script failed: could not execute external program' error if 'Set nameserver' is checked and there is a space character in the name of Tunnelblick.app or in the path to it. Fixes bug that caused 'Get Info' of Tunnelblick.app to show incorrect copyright information. Fixes bug that often caused loss of last few lines of OpenVPN Log before disconnecting. Fixes bug that sometimes caused problems restoring connections when awakening from sleep. Fixes bug that sometimes caused the Sparkle updater window to not appear on Snow Leopard. Fixes inconsistent logging of ownership/permissions repairs. Fixes bug that caused Tunnelblick to check for updates at launch even though preference to do so was cleared, not set. Fixes bug that ignored forced-preferences.plist when there was no configuration files in Deploy. Fixes bug with configuration files that are actually symbolic links. Fixes bug that didn't verify that ownership/permissions on Deploy contents copied correctly to backup. Complains with specific message in Console log if a configuration file needs repair but is locked. Fixes problems when a configuration file is a link.

Known Issues:
  * The standard scripts that "Set nameserver" uses handle DNS for most common setups. You must use custom scripts to do anything else. See [UsingTunnelblick Using Tunnelblick] for details.
  * Localization is not complete.

--------------------

==3.0b22 (2009-11-01)==
  * Includes OpenVPN version 2.1_rc20, which fixes problems with the "redirect-gateway" option.
  * Includes the 32/64-bit version of tuntap, which fixes problems running Tunnelblick on Snow Leopard under the 64-bit kernel. Thanks to the tuntap project, to Mohammad A. Haque for Xcode help, and to Jean-Philippe Jung for testing.
  * Stores username in Keychain instead of preferences.
  * Stores shadow copies of configuration files in /Library/Application Support/Tunnelblick/Users/_username_ instead of /Library/Tunnelblick/_username_.
  * Bug fixes: Fixes bugs that interfere with storage or retrieval of usernames and passwords. Adds new configs to "Details…" window when it has been opened but is currently closed. Clears "Automatically launch Tunnelblick upon login" for error exits. Clean exit if 'running from .dmg' error. Fixes several memory and CF leaks. Fixes bug that caused attempt to kill openvpn process that had already been killed. Fixes potential problem detecting locked configuration files during shadow copying. Installer detects and reports errors making ownership and permission modifications.
  * Enhancement: Creates openvpn-down-root.so and puts a copy of it in Tunnelblick.app/Contents/Resources, allowing use of OpenVPN 'user' and 'group' options by adding a line to the configuration file. See[UsingTunnelblick Using Tunnelblick] for details.
  * Deployment enhancements: Several changes have been made which make it easy to create a customized version of Tunnelblick that can easily be deployed to multiple clients or installed once for all users of a computer. Configuration, key, and certificate files and up/down scripts can be put into a Deploy folder within Tunnelblick.app, and Tunnelblick will use them instead of using files in ~/Library/openvpn. These files are read-only, and, combined with read-only preference overrides, can create a tamper-proof application. Such deployed applications may be updated via the automatic update mechanism without losing the configuration information. Detailed information is available in [DeployingTunnelblick Deploying Tunnelblick].
  * Other enhancements: Clarifies language in a few places. Adds a specific error message if unrecoverable error. Warns if all config files removed and gives a choice of quitting or installing and editing a sample config file. Warns if zero-length passphrase, username, or password. Adds Tunnelblick icon and the configuration name to all applicable dialog windows. Puts dialogs on top of other windows. 

Known Issues:
  * The standard scripts that "Set nameserver" uses handle DNS for most common setups. You must use custom scripts to do anything else. See [UsingTunnelblick Using Tunnelblick] for details.
  * Localization is not complete.

--------------------

==3.0b20 (2009-10-09)==
  * Fixes issues with "Set nameserver" on Snow Leopard.
  * Inhibits console message that tun and tap are already loaded.
  * Sends details of some error messages to the "Details…" window instead of the Console log.
  * Prefixes all non-OpenVPN messages in the log window with "`*`Tunnelblick:".

Known Issues:
  * Does not work under Snow Leopard when booted into 64-bit mode. (Works when booted into 32-bit mode.)
  * The "--redirect-gateway" OpenVPN option fails silently, causing incorrect routing, if no flags are specified (which is a syntax error). Previously, a flag of "def1" was assumed.
  * Localization is not complete.
  * The standard scripts that "Set nameserver" uses handle DNS for most common setups. You must use custom scripts to do anything else. See [UsingTunnelblick Using Tunnelblick] for details.

--------------------

==3.0b18 (2009-09-23)==
  * Implements different behavior when configuration files change: when a configuration file is added, all connections are maintained. When a configuration file is deleted, only the corresponding connection is disconnected (and an alert window is displayed). In either case, the menu and Log window reflect the change immediately without restarting Tunnelblick. Changes to a configuration file's contents or metadata are ignored (but will be used the next time a connection is attempted).
  * Works with home folders on network volumes and/or when the home folder is not permitted to have files owned by root. This is implemented transparently with "shadow" copies of configuration files. It is automatic if the config file is on a network volume or if Tunnelblick's "useShadowConfigurationFiles" preference is set.
  * Moves "Set nameserver" checkbox to avoid inadvertent changes.
  * Fixes issues when DNS is set manually, when 'dhcp-option DOMAIN ...' is pushed to the client, and when --remote-random is used under certain circumstances.
  * Fixes misleading language in window that requests a username/password for the VPN.
  * Fixes a bug which caused "Details…" window to stay on top of all other windows if it was opened within 3 seconds of starting Tunnelblick.
  * Fixes a bug which caused config file changes to be ignored under certain circumstances.
  * Fixes a bug which interferes with saving a username/password combination or a passphrase to the Keychain when there is more than one simultaneous connection.
  * Fixes a bug which causes a (quitable) infinite loop if an error occurred while changing ownerships and/or permissions.
  * Fixes a bug which sometimes causes non-English text of buttons or checkboxes to be truncated or clipped.
  * Makes changes to ownership and permissions of parts of Tunnelblick.app for better security.
  * Adds support for WINS configurations from the server when using the standard up/down scripts (i.e., when the "Set nameserver" checkbox is checked).
  * Warns about multiple simultaneous connections, with a checkbox to suppress such warnings.
  * Displays duration times only for connected tunnels.
  * Updated to UKKQueue 0.5 and LZO 2.03
  * Adds Spanish localization (thanks to Diego Rivera).

Known Issues:
  * Does not work under Snow Leopard when booted into 64-bit mode. (Works when booted into 32-bit mode.)
  * The "--redirect-gateway" OpenVPN option fails silently, causing incorrect routing, if no flags are specified (which is a syntax error). Previously, a flag of "def1" was assumed.
  * Localization is not complete for French, German, Japanese, Korean, Norwegian, or Spanish.
  * The standard scripts that "Set nameserver" uses handle DNS for most common setups. You must use custom scripts to do anything else. See [UsingTunnelblick Using Tunnelblick] for details.

--------------------

==3.0b16 (2009-08-22)==

  * Upgraded to OpenVPN version 2.1_rc19
  * Additional French translations (contributed by Oliver Hill)
  * An entry is appended to the "Details…" window if OpenVPN returns with an error code. (This typically happens when there is an error in the configuration file.)

Known Issues:
  * Home folders cannot reside on remote volumes (AFS, NFS, etc.)
  * Japanese and Norwegian localization is not complete.
  * The standard scripts that "Set nameserver" uses handle DNS for the most common DHCP setups. You must use custom scripts to do anything else. The standard scripts:
      * Do not support multiple simultaneous connections
      * Do not support multiple nameservers for multiple domains (e.g., local nameserver and remote nameserver simultaneously)
      * Do not remove manual DNS entries (i.e., the manual nameserver will continue to be used even when the tunnel is open even if the OpenVPN "redirect-gateway" option is specified)

--------------------

==3.0b14 (2009-08-10)==

  * Fixed issues where DNS settings were not saved properly, and when DHCP is renewed (contributed by Diego Rivera)
  * Added support for PKCS#11 and Security Tokens, e.g. Aladdin eToken (contributed by Xaver Loppenstedt)
  * Additional Korean and German translations (contributed by Markus Schneider and Kyoungmin Kim)
  * Animation improvements, including the ability to have "icon sets" (contributed by Raal Goff). Note: the user interface for this feature is not included yet
  * Fixed issue with "Set nameserver" and "Auto connect on launch" checkboxes being cleared on quit if the "Details…" window was never displayed
  * Fixed issue which caused disconnects when any file in ~/Library/openvpn was accessed (for example, by backup software). (Note that changing, adding, or deleting any configuration files will close all open connections)
  * Fixed issue with failed authentication: now handled gracefully: allows cancel or retry. If credentials are stored in the KeyChain, also allows retry with new credentials (by deleting the old credentials before the retry)
  * Fixed issue with multiple connections with same username; separate passwords are now kept for each username
  * Fixed issue in dialog about configuration files - the correct path is now shown: "~/Library" instead of "/Library"
  * Command-C, Command-X, Command-V (copy, cut, paste) and Command-A, Command-M, Command-W, and Command-Q (select all, minimize to the Dock, close window, and quit Tunnelblick) now work properly from the "Details…" window
  * Fixed issue which caused invalid dates/times to appear in the OpenVPN Log
  * Shows connection duration in "Details…" window's tabs
  * Fixed issue which caused the "Details…" window to remain underneath other windows when the "Details..." menu item is clicked
  * Added date/time and Tunnelblick and OpenVPN version info at the beginning of the OpenVPN Log and whenever it is cleared
  * Saves and restores "Details…" window size and position
  * Internationalized date/time displayed in the OpenVPN Log, including seconds
  * Fixed bug which caused Japanese localization to fail
  * Displays tab for the left-most established connection when the "Details…" window is first displayed. If no established connection exists, displays the left-most tab
  * Added the "Using Tunnelblick.html" document to the installation disk image
  * Added preference, "doNotMonitorConfigurationFolder" (default = False) to disable monitoring of the configuration folder for changes to the configuration files
  * Added preference, "placeIconInStandardPositionInStatusBar" (default = False) to have the Tunnelblick icon placed normally in the Status Bar -- to the left of other items (contributed by Raal Goff and Michael Schloh von Bennewitz) 
  * Added an "About" window that displays a link to the website, Tunnelblick version and build numbers, and the OpenVPN version number, which is dynamically extracted from the openvpn program (and thus always reports the version of OpenVPN which is actually being used).
  * Fixed issue which caused Tunnelblick to pass the "script-security 2" arguments to OpenVPN even if a version of OpenVPN which doesn't support that argument is being used
  * openvpnstart enhancements:
      * The "Set nameserver" argument is now optional and defaults to 0 (NO)
      * Optional argument skips passing the "script-security 2" arguments to OpenVPN.
      * Improved error checking and reporting
      * Displays usage instructions if invoked with no arguments
      * Fixed program crashes caused by improper syntax
      * "killall" command shows # of openvpn processes killed if non-zero

Known Issues:
  * Home folders cannot reside on remote volumes (AFS, NFS, etc.)
  * French, Japanese, and Norwegian localization is not complete.
  * The standard scripts that "Set nameserver" uses handle DNS for the most common DHCP setups. You must use custom scripts to do anything else. The standard scripts:
      * Do not support multiple simultaneous connections
      * Do not support multiple nameservers for multiple domains (e.g., local nameserver and remote nameserver simultaneously)
      * Do not remove manual DNS entries (i.e., the manual nameserver will continue to be used even when the tunnel is open even if the OpenVPN "redirect-gateway" option is specified)

--------------------

==3.0b10 (2008-11-20)==
  
  * fix linking problem that resulted in lzo compression not working on PowerPC 
  * prevent user from launching tunnelblick directly from the dmg
  * remove experimental status from 'Set Nameserver' and make it the default
  * upgrade to OpenVPN 2.1_rc15
  * let buffered openvpn log messages appear in the GUI log
  * possible fix for the crash if password is mistyped when using username/password authentication
  * add version number to plist file
  * don't restart connections on NetworkDidChange notification. fixes issue where existing connections would be reset when starting multiple simultaneous vpn connections.
  * always use --script-security 2 so users are allowed to supply custom up/down scripts. needed for OpenVPN 2.1
  * add missing example config file
  * properly escape special chars in username or password/passphrase before passing them over to the management interface. fixes issue where the password/passphrase was not accepted when it contained backslashes or " chars.
  * use NSStatusWindowLevel for notification windows. fixes issue that Tunnelblick icon remained visible in spaces or fullscreen mode of some apps.
  * increase robustness when killing openvpn children by explicitly sending the SIGTERM to the process id instead of just sending "signal SIGTERM" over the management socket
  * kill all openvpn processes on quit. fixes a rare condition where openvpn processes would be left over on Tunnelblick  quit
  * Add German, French, Japanese, Korean and Norwegian translations
  
--------------------

==3.0b9 (2008-07-24)==

  * Fixed the crash on Leopard
  * Fixes the slow shutdown issue
  * Updated to the new tun/tap drivers
  * Auto-Update Capability using Sparkle

------------------

===PLEASE USE THE [http://groups.google.com/group/tunnelblick-discuss TUNNELBLICK DISCUSSION GROUP] FOR COMMENTS OR QUESTIONS===